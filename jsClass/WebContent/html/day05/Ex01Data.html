<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" type="text/css" href="../../css/w3.css">
<link rel="stylesheet" type="text/css" href="../../css/user.css">
<style type="text/css">
	.pdl20 {
		padding-left: 20px;
	}
	label {
		font-size: 12pt;
		font-weight: bold;
		line-height: 230%;
		opacity: 0.5;
	}
	.showData {
		height: 40px;
	}
	.showBody {
		height: 150px;
		overflow: auto;
	}
</style>
</head>
<!-- 

	이 페이지가 열리면 '데이터 읽기' 버튼을 클릭해서 데이터를 화면에 출력하고
	'데이터 전송' 버튼을 클릭하면 
	Ex01Data02.html 로 form 태그를 이용해서 읽혀진 데이터를 전송하도록 하세요.
 -->
<body>
	<form method="GET" action="Ex01Data02.html" id="frm" name="frm">
		<input type="hidden" id="id" name="id">
		<input type="hidden" id="pw" name="pw">
		<input type="hidden" id="body" name="body">
	</form>
	
	<div class="w3-content mxw650">
		<h1 class="w3-deep-orange w3-center w3-card-4 w3-round-large">방명록 내용</h1>
		
		<div class="w3-container w3-margin-top w3-card-4 w3-round-large">
			
			<div class="w3-row w3-margin-top">
				<div class="w3-col m2 w3-right-align">
					<label class="w3-text-grey">아이디 : </label>
				</div>
				<div class="w3-col m8 pdl20">
					<div id="sid" class="w3-col w3-center w3-input w3-border w3-border-grey showData"></div>
				</div>
			</div>
			<div class="w3-row w3-margin-top">
				<div class="w3-col m2 w3-right-align">
					<label class="w3-text-grey">비밀번호 : </label>
				</div>
				<div class="w3-col m8 pdl20">
					<div id="spw" class="w3-col w3-center w3-input w3-border w3-border-grey showData"></div>
				</div>
			</div>
			<div class="w3-row w3-margin-top w3-margin-bottom">
				<div class="w3-col m2 w3-right-align">
					<label class="w3-text-grey">글 내 용 : </label>
				</div>
				<div class="w3-col m8 pdl20">
					<div id="sbody" class="w3-col w3-input w3-border w3-border-grey showBody"></div>
				</div>
			</div>
		</div>
		
		<!-- 버튼 -->
		<div class="w3-row w3-margin-top w3-card-4">
			<div class="w3-half w3-button w3-blue w3-hover-aqua" id="show">데이터 읽기</div>
			<div class="w3-half w3-button w3-green w3-hover-lime" id="send">데이터 전송</div>
		</div>
	</div>

<script type="text/javascript">
	
	var sparam = decodeURI(decodeURI(location.search)).substring(1);
	sparam = sparam.replace('\n', '<br>');
	
	var parr = {};
	
	var arr = sparam.split('&');
	// ==> ['id=ys', 'pw=12345', 'body=********']
	arr.forEach(function(item, index){
		parr[item.substring(0, item.indexOf('='))] = item.substring(item.indexOf('=') + 1);
	});
	
	document.getElementById('send').onclick = function(){
		document.frm.submit();
	}
	
	// 읽기 버튼 이벤트 추가
	document.getElementById('show').onclick = function(){
		document.getElementById('sid').innerHTML = parr.id;
		document.getElementById('spw').innerHTML = parr.pw;
		document.getElementById('sbody').innerHTML = parr.body;
	}
	
</script>
</body>
</html>